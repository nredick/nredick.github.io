{{ define "main" }}
{{ $siteAuthor := site.Params.author.name }}
<h1>{{ .Title }}</h1>

<ul class="publications-list space-y-1">
    {{ range .Pages.ByDate.Reverse }}
    <li
        class="publication-item bg-neutral-50 dark:bg-neutral-800 rounded-lg p-4 border border-neutral-200 dark:border-neutral-700 border-l-4 border-l-primary-500 hover:border-l-primary-600 dark:hover:border-l-primary-400 hover:bg-neutral-100 dark:hover:bg-neutral-750 transition-all duration-200 hover:shadow-md shadow-sm">

        <p class="citation text-neutral-700 dark:text-neutral-300 text-base leading-relaxed">
            {{ $nameParts := split $siteAuthor " " }}
            {{ $firstName := index $nameParts 0 }}
            {{ $lastName := index $nameParts -1 }}
            {{- range $index, $author := .Params.authors -}}
            {{- if $index }}, {{ end -}}
            {{- $authorParts := split $author " " -}}
            {{- $authorFirst := index $authorParts 0 -}}
            {{- $authorLast := index $authorParts -1 -}}
            {{- if and (eq $authorFirst $firstName) (eq $authorLast $lastName) -}}
            <strong>{{ $author }}</strong>
            {{- else -}}
            {{ $author }}
            {{- end -}}
            {{- end }}.
            <a href="{{ .Permalink }}"
                class="text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors duration-200 hover:underline">{{
                .Title }}</a>.
            {{ if .Params.journal }}
            {{/* Journal article format */}}
            <em class="text-secondary-600 dark:text-secondary-400">{{ .Params.journal }}</em>
            {{- if .Params.volume }} <strong>{{ .Params.volume }}</strong>{{ end -}}
            {{- if .Params.pages }}, {{ .Params.pages }}{{ end -}}
            {{ with .Date }} ({{ .Format "2006" }}){{ end }}.
            {{ else }}
            {{/* Talk/conference format */}}
            {{- if .Params.event }} <em class="text-secondary-600 dark:text-secondary-400">{{ .Params.event }}</em>.{{
            end -}}
            {{- if .Params.talk_type }} {{ .Params.talk_type }},{{ end -}}
            {{- if .Params.venue }} {{ .Params.venue }}{{ end -}}
            {{ with .Date }} ({{ .Format "2006" }}){{ end }}.
            {{ end }}
        </p>

        <div class="mt-3 flex items-center">
            {{ partial "links.html" . }}
        </div>

    </li>
    {{ end }}
</ul>
{{ end }}