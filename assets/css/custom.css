/* Publications page title styling */
.pub-link {
    display: inline-flex;
    /* make the link itself inline-flex */
    align-items: center;
    justify-content: center;
    font-size: 0.75em;
    color: inherit;
    text-decoration: none;
    min-width: 1.2em;
    /* reduced container size */
    min-height: 1.2em;
    padding: 0.1em;
    /* reduced padding */
    transition: transform 0.2s ease;
    gap: 0.3em;
    /* spacing between icon and text */
}

.pub-link:hover {
    transform: scale(1.15);
}

/* Publications page title styling */
.publications-list~h1,
main h1 {
    font-size: 2.5rem;
    font-weight: bold;
    margin-bottom: 2.5rem;
    /* Color now handled by Tailwind classes in HTML */
}

/* Publication title links - now handled by Tailwind classes */
.citation em a {
    text-decoration: underline;
    text-decoration-thickness: 1px;
}

.citation em a:hover {
    text-decoration-thickness: 2px;
}

.pub-links {
    margin-top: 0.2em;
    margin-bottom: 0;
    padding: 0;
    display: flex;
    gap: 0.25rem;
    flex-wrap: wrap;
    align-items: center;
    line-height: 1;
    /* Remove custom color - let Tailwind classes handle it */
}

.pub-link {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    transition: color 0.2s ease, transform 0.2s ease;
    gap: 0.3em;
    /* spacing between icon and text */
}

.pub-link:hover {
    transform: scale(1.15);
}

/* Add hover scale and transition effects to author links on homepage */
.text-2xl .flex a,
.text-lg .flex a {
    transition: color 0.2s ease, transform 0.2s ease;
}

.text-2xl .flex a:hover,
.text-lg .flex a:hover {
    transform: scale(1.15);
    /* Color changes are handled by Tailwind classes: hover:text-primary-700 dark:hover:text-primary-400 */
}

/* Remove the old styling rules that are no longer needed */

/* Normalize spacing for both SVG icons and academicons */
.pub-link svg,
.pub-link .ai {
    display: block;
    width: 1em;
    height: 1em;
}

/* Academicons styling for publication links */
.pub-link .ai {
    font-size: 1em;
    line-height: 1;
}

/* Ensure icons maintain their size regardless of text size */
.pub-link i,
.pub-link svg {
    font-size: 1.5rem;
    /* Keep icons at text-2xl size */
}

/* Text next to icons should be smaller */
.pub-link .text-sm {
    font-size: 0.875rem;
    /* text-sm equivalent */
}

/* Publication list spacing and styling */
.publications-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

/* Individual publication page styling */
.publication-single {
    max-width: 800px;
    margin: 0 auto;
}

.publication-single h1 {
    font-size: 2rem;
    line-height: 1.3;
    margin-bottom: 1.5rem;
    font-weight: bold;
    color: rgb(var(--color-primary-600));
}

.dark .publication-single h1 {
    color: rgb(var(--color-primary-400));
}

.publication-header {
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
}

.publication-header.has-content-below {
    border-bottom: 2px solid rgb(var(--color-neutral-200));
}

.dark .publication-header.has-content-below {
    border-bottom-color: rgb(var(--color-neutral-600));
}

.publication-authors {
    font-size: 1.1em;
    margin-bottom: 0.5rem;
    color: rgb(var(--color-neutral-700));
    font-weight: 500;
}

.dark .publication-authors {
    color: rgb(var(--color-neutral-300));
}

.publication-details {
    font-size: 0.95em;
    color: rgb(var(--color-neutral-600));
    margin-bottom: 1rem;
}

.dark .publication-details {
    color: rgb(var(--color-neutral-400));
}

.publication-details .journal {
    font-style: italic;
}

.publication-abstract {
    margin-bottom: 2rem;
}

.publication-abstract h2 {
    font-size: 1.3em;
    margin-bottom: 1rem;
    color: rgb(var(--color-primary-600));
}

.dark .publication-abstract h2 {
    color: rgb(var(--color-primary-400));
}

.publication-abstract p {
    line-height: 1.6;
    text-align: justify;
}

/* Bigger link icons on single publication pages - now matches author links */
.publication-single .pub-link {
    font-size: 1.5rem;
    /* keep same size as elsewhere */
}

/* Remove old override rules */

/* Publication single page meta spacing */
.publication-single .flex {
    margin-top: 0.5rem;
    margin-bottom: 0.5rem;
}

.publication-single .flex:empty {
    display: none;
}

/* Table of Contents (TOC) highlighting improvements */
#TableOfContents a.active {
    color: rgb(var(--color-primary-600)) !important;
    font-weight: 600;
    background-color: rgb(var(--color-primary-50));
    border-radius: 0.25rem;
    padding: 0.125rem 0.25rem;
    border-left: 3px solid rgb(var(--color-primary-500));
}

.dark #TableOfContents a.active {
    color: rgb(var(--color-primary-400)) !important;
    background-color: rgb(var(--color-primary-900));
    border-left-color: rgb(var(--color-primary-400));
    text-decoration: none !important;
}

#TableOfContents a {
    transition: all 0.2s ease;
    padding: 0.125rem 0.25rem;
    border-radius: 0.25rem;
    display: block;
}

#TableOfContents a:hover {
    background-color: rgb(var(--color-neutral-100));
}

.dark #TableOfContents a:hover {
    background-color: rgb(var(--color-neutral-800));
}

/* Full-width gallery styling */
.hugo-shortcode-gallery {
    width: 100vw !important;
    position: relative;
    left: 50%;
    right: 50%;
    margin-left: -50vw !important;
    margin-right: -50vw !important;
    max-width: none !important;
}

/* Alternative approach - make the entire article content full-width when it contains a gallery */
article:has(.hugo-shortcode-gallery) .prose,
article:has(.hugo-shortcode-gallery) .max-w-prose {
    max-width: none !important;
    width: 100% !important;
}

/* Ensure gallery container breaks out of content constraints */
.hugo-shortcode-gallery .justified-gallery {
    width: 100% !important;
}